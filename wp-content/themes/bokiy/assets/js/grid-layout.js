!function(e){"use strict";e.fn.BilleyGridLayout=function(){var t,i,n;function o(n){var o=1025,a=768,r=window.innerWidth,s=i[0].getBoundingClientRect().width,g=1,d=0,l=0,c=t.data("grid"),h=c.gutter?c.gutter:0,u=c.gutterTablet?c.gutterTablet:h,p=c.gutterMobile?c.gutterMobile:u,m=c.columns?c.columns:1,f=c.columnsTablet?c.columnsTablet:m,y=c.columnsMobile?c.columnsMobile:f,z=c.zigzagHeight?c.zigzagHeight:0,b=c.zigzagHeightTablet?c.zigzagHeightTablet:z,w=c.zigzagHeightMobile?c.zigzagHeightMobile:b,x=!(!c.zigzagReversed||1!==c.zigzagReversed);"undefined"!=typeof elementorFrontendConfig&&(o=elementorFrontendConfig.breakpoints.lg,a=elementorFrontendConfig.breakpoints.md),r>=o?(g=m,d=h,l=z):r>=a?(g=f,d=u,l=b):(g=y,d=p,l=w);var T=(s-(g-1)*d)/g,v=T=Math.floor(T);g>1&&(v=2*T+d),i.children(".grid-sizer").css({width:T+"px"});var C=0,M=0,H=0,R=0,k=!1,B=1;c.ratio&&(B=c.ratio,k=!0),k&&(C=T*B/1,C=Math.floor(C),g>1?(M=2*C+d,R=parseInt(1.3*C),H=M-d-R):M=H=R=C),i.children(".grid-item").each(function(t){var i,n=e(this);(l>0&&g>1&&t+1<=g?!1===x?t%2==0?n.css({marginTop:l+"px"}):n.css({marginTop:"0px"}):t%2!=0?n.css({marginTop:l+"px"}):n.css({marginTop:"0px"}):n.css({marginTop:"0px"}),2===n.data("width")?n.css({width:v+"px"}):n.css({width:T+"px"}),"grid"===c.type&&n.css({marginBottom:d+"px"}),k)&&(i=n.hasClass("grid-item-height")?n:n.find(".grid-item-height"),2===n.data("height")?i.css({height:M+"px"}):1.3===n.data("height")?i.css({height:R+"px"}):.7===n.data("height")?i.css({height:H+"px"}):i.css({height:C+"px"}))}),n&&(n.packery.gutter=d,n.fitRows.gutter=d,i.isotope(n)),i.isotope("layout")}function a(){i.children(".grid-item").elementorWaypoint(function(){var t=this.element?this.element:this;e(t).addClass("animate")},{offset:"90%",triggerOnce:!0})}return this.each(function(){t=e(this),i=t.find(".billey-grid");var r=t.data("grid");if(i.length>0&&r&&void 0!==r.type){var s={itemSelector:".grid-item",percentPosition:!0,transitionDuration:0,packery:{columnWidth:".grid-sizer"},fitRows:{gutter:10}};"masonry"===r.type||"metro"===r.type?s.layoutMode="packery":s.layoutMode="fitRows",i.imagesLoaded(function(){o(s),i.addClass("loaded")}).one("arrangeComplete",function(){a()}),e(window).resize(function(){o(s),clearTimeout(n),n=setTimeout(function(){o(s)},500)})}else a();t.on("BilleyQueryEnd",function(e,t,n){i.length>0&&r&&void 0!==r.type?i.isotope().append(n).isotope("reloadItems",n).imagesLoaded().always(function(){n.addClass("animate"),o(s)}):i.append(n).imagesLoaded().always(function(){n.addClass("animate")})})})}}(jQuery);